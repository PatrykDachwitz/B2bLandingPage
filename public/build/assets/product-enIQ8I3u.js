var a=Object.defineProperty;var s=(l,t,e)=>t in l?a(l,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):l[t]=e;var i=(l,t,e)=>s(l,typeof t!="symbol"?t+"":t,e);class o{constructor(t){i(this,"containerCarousel");i(this,"containerImages");i(this,"columns");i(this,"lengthColumn");i(this,"previousButton");i(this,"nextButton");i(this,"widthImage");i(this,"maxValueShift");i(this,"scrollOriginalWidth");this.initPrimaryInformation(t),this.initButtons()}initPrimaryInformation(t){this.containerCarousel=document.querySelector(`[${t}]`),this.containerImages=this.containerCarousel.querySelector(".carousel__imagesContainer"),this.widthImage=parseInt(this.containerImages.querySelector("[data-carousel-column]").offsetWidth),this.calculateMaxValueShift(),this.calculateColumnsInformation()}calculateColumnsInformation(){this.columns=this.containerImages.querySelectorAll("[data-carousel-column]"),this.lengthColumn=this.columns[this.columns.length-1].dataset.carouselColumn,this.addSupportColumnPrevious()}addSupportColumnPrevious(){for(let t=this.lengthColumn;t>0;t--)this.addNewColumnPrevious();this.resetLeftValueToStartOriginal()}calculateMaxValueShift(){let t=this.containerImages.offsetWidth;this.scrollOriginalWidth=this.containerImages.scrollWidth,this.maxValueShift=this.scrollOriginalWidth-t}getCurrentLeftStyle(){let t=this.containerImages.style.left;return t===""?0:parseInt(t)}calculateLeftShiftMinus(){return this.getCurrentLeftStyle()-this.widthImage}calculateLeftShiftPlus(){let t=this.getCurrentLeftStyle();return console.log(t),console.log(this.widthImage),t+this.widthImage}addNewColumnNext(){this.columns=this.containerImages.querySelectorAll("[data-carousel-column]");let t=parseInt(this.columns[this.columns.length-1].dataset.carouselColumn)+1;t>this.lengthColumn&&(t=1);let e=this.containerImages.querySelector(`[data-carousel-column="${t}"]`).cloneNode(!0);this.containerImages.appendChild(e)}addNewColumnPrevious(){this.columns=this.containerImages.querySelectorAll("[data-carousel-column]");let t=parseInt(this.columns[0].dataset.carouselColumn)-1;t<1&&(t=this.lengthColumn);let e=this.containerImages.querySelector(`[data-carousel-column="${t}"]`).cloneNode(!0);this.containerImages.insertBefore(e,this.columns[0])}checkNeedsBeAddedNewColumn(t){if(Math.abs(t)>this.scrollOriginalWidth+this.maxValueShift)return!0}changeNextPosition(){let t=this.calculateLeftShiftMinus();this.checkNeedsBeAddedNewColumn(t)&&this.addNewColumnNext(),this.containerImages.style.left=`${t}px`}resetLeftValueToStartOriginal(){this.containerImages.style.transition="none",this.containerImages.style.left=`-${this.scrollOriginalWidth}px`,setTimeout(()=>{this.containerImages.style.transition="left 1s ease"},100)}changePreviousPosition(){let t=this.calculateLeftShiftPlus();this.widthImage>Math.abs(t)?this.resetLeftValueToStartOriginal():this.containerImages.style.left=`${t}px`}initButtons(){this.nextButton=this.containerCarousel.querySelector("[data-button-next]"),this.previousButton=this.containerCarousel.querySelector("[data-button-previous]"),this.nextButton.addEventListener("click",t=>{this.changeNextPosition()}),this.previousButton.addEventListener("click",t=>{this.changePreviousPosition()})}}class r{constructor(){i(this,"galleryContainer");i(this,"galleryMiniImageContainer");i(this,"buttonDown");i(this,"buttonUp");i(this,"maxScroll");i(this,"originHeightImage");this.galleryContainer=document.querySelector(".gallery"),this.galleryMiniImageContainer=document.querySelector(".gallery__miniContainer--main"),this.initSmallGalleryPc()}calculateHeightAndUpdatePc(){let t=this.galleryContainer.scrollHeight,e=document.querySelector(".gallery__container--miniImage");return e.style.maxHeight=`${t}px`,t}initSmallGalleryPc(){let t=this.calculateHeightAndUpdatePc();const e=document.querySelectorAll(".gallery__mainContainer--image");e.forEach(n=>{n.classList.remove("d-lg-none"),n.addEventListener("click",u=>{this.changeImage(n.dataset.gallerySmall)})}),this.maxScroll=this.galleryMiniImageContainer.scrollHeight-t,this.originHeightImage=e[0].offsetHeight,this.initButton()}initButton(){this.buttonDown=document.querySelector(".gallery__button--down"),this.buttonUp=document.querySelector(".gallery__button--up"),this.buttonDown.addEventListener("click",t=>{this.downScroll()}),this.buttonUp.addEventListener("click",t=>{this.upScroll()})}getCurrentTopValue(){let t=this.galleryMiniImageContainer.style.top;return t===""?0:parseInt(t)}disabledButton(t){switch(t){case"down":this.buttonDown.style.display="none";break;case"up":this.buttonUp.style.display="none";break}}activateButton(t){switch(t){case"down":this.buttonDown.style.display="";break;case"up":this.buttonUp.style.display="";break}}downScroll(){let e=this.getCurrentTopValue()-this.originHeightImage;Math.abs(e)>Math.abs(this.maxScroll)?(this.disabledButton("down"),this.galleryMiniImageContainer.style.top=`-${this.maxScroll}px`):(this.activateButton("up"),this.galleryMiniImageContainer.style.top=`${e}px`)}upScroll(){let e=this.getCurrentTopValue()+this.originHeightImage;console.log(e),e>=0?(this.disabledButton("up"),this.galleryMiniImageContainer.style.top="0px"):(this.activateButton("down"),this.galleryMiniImageContainer.style.top=`${e}px`)}clearActiveGalleryImage(){document.querySelector("div.carousel-item.active").classList.remove("active")}changeImage(t){const e=document.querySelector(`div[data-galler-index="${t}"]`);this.clearActiveGalleryImage(),e.classList.add("active")}}window.addEventListener("load",l=>{new o("data-carousel-decor"),new r});
